<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>객실 상세보기</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/user.css}">
    <link rel="stylesheet" th:href="@{/css/detail.css}">
</head>
<body>
<div th:replace="~{fragments/header::header}"></div>
<div layout:fragment="content">
    <!-- 객실 배너 이미지 -->
    <section class="room-banner">
        <div class="banner-container">
            <img th:if="${room.bannerImage != null && !room.bannerImage.isEmpty()}"
                 th:src="@{'/upload/' + ${room.bannerImage}}"
                 alt="객실 배너 이미지" class="room-banner-image">
        </div>
    </section>
    <!-- 예약 정보 및 버튼 -->
    <section class="reservation-info-wrapper">
        <div class="reservation-info d-flex justify-content-between align-items-center">
            <div>
                <p class="period"><strong>예약 기간:</strong> <span th:text="${room.reservationStart}"></span> ~ <span th:text="${room.reservationEnd}"></span></p>
                <p class="period"><strong>숙박 기간:</strong> <span th:text="${room.stayStart}"></span> ~ <span th:text="${room.stayEnd}"></span></p>
            </div>
            <div>
                <button class="btn btn-outline-dark"><i class="fas fa-share"></i> 공유하기</button>
                <button class="btn btn-dark"><i class="fas fa-bed"></i> 예약하기</button>
            </div>
        </div>
    </section>
    <div class="container mt-4">
        <!-- 주요 혜택 -->
        <section class="room-details mt-5">
            <h2 class="mb-4">주요 혜택</h2>
            <div class="room-item-wrapper">
                <div class="room-item py-4" th:each="image : ${room.roomImageDTOList}">
                    <div class="room-item-box">
                        <!-- 객실 이미지 -->
                        <div class="col-md-4">
                            <img class="room-image w-100"
                                 th:src="@{'/upload/' + ${#strings.replace(image.imagePath, 'c:/data/', '')}}"
                                 alt="객실 상세 이미지"/>
                        </div>
                        <!-- 객실 설명 -->
                        <div class="col-md-8">
                            <h2 class="room-details-title" th:text="${image.imageTitle} ?: '이미지 제목 없음'"></h2>
                            <p class="room-details-description" th:utext="${#strings.replace(image.imageDescription, '\n', '<br/>') ?: '설명이 없습니다.'}"></p>
                        </div>
                    </div>
                    <!-- 구분선 -->
                    <hr class="room-divider">
                </div>
            </div>
            <!-- 이미지가 없는 경우 -->
            <div th:if="${room.roomImageDTOList == null or room.roomImageDTOList.isEmpty()}" class="text-center mt-4">
                <p class="text-muted">객실 상세 이미지가 없습니다.</p>
            </div>
        </section>

        <!-- 유의사항 -->
        <section class="notice">
            <h2 class="mb-3">유의사항</h2>
            <ul class="list-group">
                <li class="list-group-item">본 상품은 세금 및 봉사료가 포함되어 있습니다.</li>
                <li class="list-group-item">체크인 3PM / 체크아웃 12PM 입니다.</li>
                <li class="list-group-item">취소 정책은 투숙일 1일 전까지 무료 변경 및 취소 가능합니다.</li>
                <li class="list-group-item">호텔 사정에 따라 조기 마감 될 수 있습니다.</li>
                <li class="list-group-item">투숙 기간 24시간 주차 무료입니다.</li>
                <li class="list-group-item">메리어트 본보이 멤버십 적립 가능합니다.</li>
                <li class="list-group-item">콜렉션&리워드 가입 시 1박에 한하여 사전 가능 합니다.</li>
                <li class="list-group-item">호텔 수요에 따라 금액 변동이 있을 수 있습니다.</li>
            </ul>
        </section>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const reservationInfo = document.querySelector(".reservation-info-wrapper");

            window.addEventListener("scroll", function () {
                if (window.scrollY > 700) {
                    reservationInfo.classList.add("scrolled");
                } else {
                    reservationInfo.classList.remove("scrolled");
                }
            });
        });
    </script>
</div>
<div th:replace="~{fragments/footer::footer}"></div>
</body>
</html>