<!DOCTYPE html>

<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
  <meta charset="UTF-8">
  <title>배너목록</title>
    <style>
        .custom-link {
            color: black;
            text-decoration: none;
            margin-bottom: 10px;
            display: inline-block;
        }
        .custom-link:hover {
            color: gray; /* 마우스 올리면 회색 */
        }
    </style>
  <!--반응형웹-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--부트스트랩-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

<div layout:fragment="content">
  <div class="container-fluid mt-4">
      <a href="/" class="custom-link"><span><i class="bi bi-house-fill"></i> HOME</span></a> /
      <a href="#" class="custom-link"><span>배너관리</span></a>
    <h2 class="mb-3">배너 관리</h2>
    <div class="card p-4">
  <table class="table table-bordered text-center">
    <thead>
    <tr>
      <th style="width: 15%">배너제목</th>
      <th style="width: 15%">활성화</th>
<!--      <th style="width: 15%">배너랭크</th>-->
      <th style="width: 40%">배너보기</th>
      <th style="width: 15%">삭제여부</th>
    </tr>
    </thead>
  <tbody>
<!--  <tr th:if="${lists.isEmpty(bannerDTOList)}">-->
<!--      <td class="text-center">배너이미지가 없습니다</td>-->
<!--  </tr>-->
  <tr th:each="data, stat : ${bannerDTOList}">
<!--  <tr th:each="banner : ${banners}">-->
<!--    <td th:text="${banner.bannerId}"></td>-->
    <td th:text="${data.bannerTitle}"></td>
    <td th:text="${data.bannerStatus ? '활성' : '비활성'}"></td>
<!--    <td th:text="${banner.bannerRank}"></td>-->
    <td>
        <div th:each="img : ${data.bannerImageDTOList}"><!--그림파일이 존재하면-->
            <img th:src="@{'/upload/' + ${img.imagePath}}" width="300px" height="200px">
        </div>
<!--        <a th:href="@{/banner/{bannerId}(bannerId=${banner.bannerId})}">이미지</a>-->

    </td>
    <td>
<!--      <form th:action="@{/banner/delete/{bannerId}(bannerId=${data.bannerId})}" method="post" enctype="multipart/form-data">-->
<!--        <button type="submit" class="btn btn-danger"><i class="bi bi-trash"></i></button>-->
<!--      </form>-->
<!--            <a th:href="@{banner/delete(bannerId=${data.bannerId})}" class="delete-link"><i class="bi bi-trash"></i></a>-->
        <form th:action="@{/banner/delete}" method="post" onsubmit="return confirm('정말로 삭제하시겠습니까?');">
            <input type="hidden" name="bannerId" th:value="${data.bannerId}">
            <button type="submit" class="btn btn-danger"><i class="bi bi-trash"></i></button>
        </form>


    </td>
  </tr>
  <tr th:if="${#lists.isEmpty(bannerDTOList)}">
      <td colspan="4" class="text-center">배너 이미지가 없습니다</td>
  </tr>
  </tbody>
</table>
      <div class="row mt-5">
        <div class="col-2">
          <a href="/banner/register" class="btn btn-info">배너 추가</a>
        </div>
        <div class="col-10"></div>
      </div>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

</div>
</div>
</div>

</body>
</html>
