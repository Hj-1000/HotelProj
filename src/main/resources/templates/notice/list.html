<!DOCTYPE html>

<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
  <meta charset="UTF-8">
  <title>공지사항 리스트</title>
  <!--반응형웹-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--부트스트랩-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    /*.h2{*/
    /*  text-align: center;*/
    /*}*/
    .container{
      margin-top: 20px;
      margin-bottom: 100px;
    }
  </style>


</head>
<body>
<!--<div th:replace="~{fragments/header::header}"></div>-->
<div layout:fragment="content">
  <div  class="container-fluid mt-4"><!--브라우저 사용 범위-->
    <div id="row" class="row">
      <div class="col-1"></div><!--좌측여백-->
      <div id="listColumn" class="col-10"><!--작업디자인(표)-->
        <h2 class="h2">공지사항</h2>
        <div class="card p-4">
        <table class="table">
          <thead>
          <tr>
            <th style="width: 10%">번호</th>
            <th style="width: 40%">제목</th>
            <th style="width: 20%">작성일</th>
            <th style="width: 20%">수정일</th>
            <th style="width: 10%">작업</th>
          </tr>
          </thead>

          <tbody>
          <tr th:if="${#lists.isEmpty(noticeDTOList)}">
            <td colspan="5" class="text-center">공지사항이 없습니다.</td>
          </tr>
          <tr th:each="data : ${noticeDTOList}">
            <td th:text="${data.noticeId}"></td>
            <td>
              <a th:href="@{/notice/read(noticeId=${data.noticeId})}" th:text="${data.noticeTitle}">sample</a>
            </td>
<!--            <td th:text="${data.regDate != null ? #temporals.format(data.regDate, 'yyyy-MM-dd hh:mm') : 'N/A'}">2024-12-18 12:00</td>-->
<!--            <td th:text="${data.modDate != null ? #temporals.format(data.modDate, 'yyyy-MM-dd hh:mm') : 'N/A'}">2024-12-18 12:00</td>-->
            <td th:text="${#temporals.format(data.regDate, 'yyyy-MM-dd hh:mm')}">2024-12-18 12:00</td>
            <td th:text="${#temporals.format(data.modDate, 'yyyy-MM-dd hh:mm')}">2024-12-18 12:00</td>
            <td>
              <a th:href="@{/notice/update(noticeId=${data.noticeId})}">수정</a> /
              <a th:href="@{/notice/delete(noticeId=${data.noticeId})}">삭제</a>
            </td>
          </tr>

          </tbody>
<!--          <tbody>-->
<!--          Controller에서 전달받은 리스트로 반복처리-->
<!--          model.addAttribute("변수명",).DTO(변수명)-->
<!--          boardDTOList, id;subject; content; author; regdate; modDate;-->
<!--          <tr th:each="data:${noticeDTOList}">&lt;!&ndash;더미값으로 채우기(가장 긴값)&ndash;&gt;-->
<!--            <td th:text="${data.noticeId}">0</td>-->
<!--            <td>-->
<!--              <a th:href="@{/notice/read(noticeId=${data.noticeId})}" th:text="${data.noticeTitle}">-->
<!--                sample-->
<!--              </a>-->
<!--            </td>-->

<!--            <td th:text="${#temporals.format(data.regDate,'yyyy-MM-dd hh:mm')}">2024-12-18 12:00:09</td>-->
<!--            <td th:text="${#temporals.format(data.modDate,'yyyy-MM-dd hh:mm')}">2024-12-18 12:00:09</td>-->
<!--            <td>-->
<!--              <a th:href="@{/notice/update(noticeId=${data.noticeId})}">수정</a>/-->
<!--              <a th:href="@{/notice/delete(noticeId=${data.noticeId})}">삭제</a>-->
<!--            </td>-->
<!--          </tr>-->
<!--          </tbody>-->
        </table>
<!--          <div class="pagination d-flex justify-content-center">-->
<!--            <ul class="pagination">-->
<!--              &lt;!&ndash; 이전 버튼 &ndash;&gt;-->
<!--              <li th:classappend="${pageNumber == 0} ? 'disabled'" class="page-item">-->
<!--                <a class="page-link" th:href="@{/notice/list(page=${pageNumber - 1}, size=${size}, noticeTitle=${param?.noticeTitle ?: ''}, noticeContent=${param?.noticeContent ?: ''}, regDate=${param?.regDate ?: ''}, modDate=${param?.modDate ?: ''})}">이전</a>-->
<!--              </li>-->

<!--              &lt;!&ndash; 페이지 번호 버튼 &ndash;&gt;-->
<!--              <li th:each="i : ${#notice.sequence(0, totalPages - 1)}"-->
<!--                  th:classappend="${i == pageNumber} ? 'active'"-->
<!--                  class="page-item">-->
<!--                <a class="page-link"-->
<!--                   th:href="@{/notice/list(page=${i}, size=${size}, noticeTitle=${param.noticeTitle},noticeContent=${param.noticeContent}, regDate=${param.regDate}, modDate=${param.modDate})}"-->
<!--                   th:text="${i + 1}">-->
<!--                </a>-->
<!--              </li>-->

<!--              &lt;!&ndash; 다음 버튼 &ndash;&gt;-->
<!--              <li th:classappend="${pageNumber + 1 == totalPages} ? 'disabled'" class="page-item">-->
<!--                <a class="page-link" th:href="@{/notice/list(page=${pageNumber + 1}, size=${size}, noticeTitle=${param.noticeTitle},noticeContent=${param.noticeContent}, regDate=${param.regDate}, modDate=${param.modDate})}">다음</a>-->
<!--              </li>-->
<!--            </ul>-->
<!--          </div>-->

          <a th:href="@{/notice/register}" ><button class="btn btn-primary">등록</button></a>

          <div th:if="${not #lists.isEmpty(noticeDTOList)}">
          <div class="pagination d-flex justify-content-center">
            <ul class="pagination">
              <!-- 이전 버튼 -->
              <li th:classappend="${pagination['currentPage'] == 1} ? 'disabled'" class="page-item">
                <a class="page-link" th:href="@{/notice/list(page=${pagination['prevPage']}, size=10)}">이전</a>
              </li>

              <!-- 페이지 번호 버튼 -->
              <li th:each="i : ${#numbers.sequence(pagination['startPage'], pagination['endPage'])}"
                  th:classappend="${i == pagination['currentPage']} ? 'active'" class="page-item">
                <a class="page-link" th:href="@{/notice/list(page=${i-1}, size=10)}" th:text="${i}">0</a>
              </li>

              <!-- 다음 버튼 -->
              <li th:classappend="${pagination['currentPage'] == pagination['lastPage']}" class="page-item">
                <a class="page-link" th:href="@{/notice/list(page=${pagination['nextPage']}, size=10)}">다음</a>
              </li>
            </ul>
          </div>
          </div>
      </div><!--listColumn-->

      <div class="col-1"></div><!--우측여백-->
      </div>
    </div><!--row 행 끝-->
  </div><!--container 끝-->
</div>
</body>
</html>