<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Q&A</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/user.css}">
    <style>
        /* 전체 페이지 크기 및 스타일 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box; /* padding과 border를 width와 height에 포함시킴 */
        }

        body {
            font-family: Arial, sans-serif;
            height: 100vh; /* 화면 전체 크기를 차지하도록 설정 */
        }

        .container {
            width: 100%;
            height: 100%;
            max-width: 1200px; /* 최대 너비를 설정 */
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); /* 그림자 효과 */
            overflow: auto; /* 내용이 넘칠 경우 스크롤이 생기도록 설정 */
        }

        h1 {
            text-align: center;
            color: #333; /* 제목 색상 */
        }

        /* 검색 바 스타일 */
        .search-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 10px;
        }

        .search-bar select, .search-bar input {
            padding: 10px;
            flex: 1;
            border: 1px solid #ddd; /* 테두리 색상 */
            border-radius: 5px; /* 테두리 둥글게 */
        }

        .search-bar button {
            padding: 10px 20px;
            background-color: #5cb85c; /* 버튼 색상 */
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        .search-bar button:hover {
            background-color: #4cae4c; /* 버튼 hover 효과 */
        }

        /* 질문 작성 폼 스타일 */
        .question-form {
            margin-bottom: 30px;
        }

        .question-form h3 {
            margin-bottom: 10px;
        }

        .question-form input, .question-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .question-form button {
            padding: 10px 20px;
            background-color: #337ab7; /* 버튼 색상 */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .question-form button:hover {
            background-color: #286090; /* 버튼 hover 효과 */
        }

        /* 질문 목록 스타일 */
        .question-list {
            list-style: none;
            padding: 0;
        }

        .question-item {
            background-color: #e9e9e9; /* 배경 색상 */
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }

        .question-item h3 {
            margin: 0 0 5px;
        }

        .question-item p {
            margin: 0;
            color: #555; /* 내용 색상 */
        }

        .question-item .user-info {
            font-size: 0.9em;
            color: #888;
            margin-top: 5px;
        }

        /* 페이징 처리 버튼 스타일 */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .pagination button {
            padding: 10px;
            margin: 0 5px;
            background-color: #ddd; /* 버튼 배경 색상 */
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .pagination button:hover {
            background-color: #bbb; /* 버튼 hover 효과 */
        }
    </style>
</head>
<body>
<div th:replace="~{fragments/header::header}"></div>
<div class="container">
    <h1>Q&A 페이지</h1>





    <!-- 로그인된 사용자가 있을 때 질문 작성 폼 표시 -->
    <div th:if="${currentMember != null}">
        <div class="question-form">
            <h3>질문을 남기세요</h3>
            <form th:action="@{/qna}" method="post">
            <label for="title">제목</label>
            <input type="text" id="title" name="title" required />

            <label for="content">내용</label>
            <textarea id="content" name="content" required></textarea>

            <button type="submit">제출</button>
        </form>
        </div>
    </div>
    <div>
        <h3>Qna 목록</h3>
        <div th:if="${#lists.isEmpty(qnaList)}">
            <p>등록된 질문이 없습니다.</p>
        </div>
        <div th:each="qna : ${qnaList}">
            <div class="question-item">
                <!-- 제목 -->
                <h4 th:text="${qna.qnaTitle}">제목</h4>
                <!-- 내용 -->
                <p th:text="${qna.qnaContent}">내용</p>
                <!-- 작성자 -->
                <p th:text="'작성자: ' + ${qna.memberName}">작성자 이름</p>
                <!-- 작성일자 -->
                <p th:text="'작성일자: ' + ${qna.regDate}">작성일자</p>
                <!-- 수정일자 -->
                <p th:text="'수정일자: ' + ${qna.modDate}">수정일자</p>

            </div>
        </div>
    </div>

</div>
<div th:replace="~{fragments/footer::footer}"></div>
</body>
</html>
