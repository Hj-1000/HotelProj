<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <title>NTT호텔 - 본사관리</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/user.css}">

    <script th:inline="javascript">

        $(document).ready(function () {

            var moBtn = $(".modalBtn")
            var modal = $("#exampleModal")

            var title

            moBtn.off().on("click", function () {

                console.log("모달 진입")

                //모달 열기
                modal.modal("show")

                $('.modal-title').text("이벤트 글 작성하기")


                $("#saveChanges").show()
                modal.find("input").show();
            })

            $(".submitBtn").off().on("click", function () {
                alert("글 작성이 완료되었습니다.")
            })

        })

    </script>

</head>
<body>

<div id="wrapper" layout:fragment="content">
    <div class="container-fluid mt-4">
        <h2 class="mb-3">호텔본사 관리</h2>
        <!-- 검색 영역 -->
        <div class="card p-4 mb-4">
            <form>
                <div class="row g-3 align-items-center">
                    <div class="col-md-6">
                        <label for="호텔명" class="form-label fw-bold">호텔명</label>
                        <input type="text" class="form-control" id="호텔명" placeholder="호텔명">
                    </div>
                    <div class="col-md-6">
                        <label for="호텔장" class="form-label fw-bold">호텔장</label>
                        <input type="text" class="form-control" id="호텔장" placeholder="호텔장">
                    </div>
                </div>
                <!-- 조회 버튼 -->
                <div class="text-center mt-4">
                    <button type="button" class="btn btn-primary w-25" style="background-color: black">조회</button>
                </div>
            </form>
        </div>

        <!-- 목록 영역 -->

        <div>


        </div>
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">본사 목록</h5>
                <table class="table table-bordered text-center">
                    <thead>
                    <tr>
                        <th>No</th>
                        <th>본사명</th>
                        <th>관리자명</th>
                        <th>지사수</th>
                        <th>매장수</th>
                        <th>삭제여부</th>
                    </tr>
                    </thead>
                    <tbody>

                    <tr>
                        <th:block th:if="${#lists.isEmpty(companyDTOS)}"><!--받아온 값이 없으면-->
                            <div>
                                <p>등록된 본사가 없습니다.</p>
                            </div>
                        </th:block>
                    </tr>

                    <th:block th:unless="${#lists.isEmpty(companyDTOS)}"><!--값이 없으면이 아니면(있으면)-->
                        <tr th:each="data:${companyDTOS}">
                            <td th:text="${data.companyId}">1</td>
                            <td >
                                <a th:href="@{/company/read(companyId=${data.companyId})}" th:text="${data.companyName}">NTT호텔</a>
                            </td>
                            <td th:text="${data.companyManager}">우리</td>
                            <!--나중에 지사수, 매장수 업데이트할거임~!-->
                            <td >2</td>
                            <td >2</td>
                            <td><span class="badge bg-primary">아니오</span></td>
                        </tr>
                    </th:block>
                    </tbody>
                </table>
                <!-- 페이지네이션 -->
<!--                <nav aria-label="Page navigation">-->
<!--                    <ul class="pagination justify-content-center">-->
<!--                        <li class="page-item">-->
<!--                            <a class="page-link" href="#" aria-label="Previous">-->
<!--                                <span aria-hidden="true">&laquo;</span>-->
<!--                            </a>-->
<!--                        </li>-->

<!--                        <li class="page-item"><a class="page-link" href="#">1</a></li>-->
<!--                        <li class="page-item active"><a class="page-link" href="#">2</a></li>-->
<!--                        <li class="page-item"><a class="page-link" href="#">3</a></li>-->

<!--                        <li class="page-item">-->
<!--                            <a class="page-link" href="#" aria-label="Next">-->
<!--                                <span aria-hidden="true">&raquo;</span>-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </nav>-->


                <!-- 추가 버튼 -->
                <div class="text-end mt-3">
                    <button class="btn btn-primary" style="background-color: black" onclick="location.href='/company/register' ">등록</button>
                    <button type="button" class="btn btn-primary modalBtn">간편 등록</button>
                </div>





            </div>
        </div>
    </div>

    <!--모달 - 안됨-->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" style="background-color: #1B2535; color: white">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">본사 등록</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <form action="/company/register" method="post" enctype="multipart/form-data">
                    <div class="mb-3 mt-3">
                        <label for="companyName" class="form-label">본사명:</label>
                        <input type="text" class="form-control" id="companyName" name="companyName">
                    </div>
                    <div class="mb-3 mt-3">
                        <!--나중에 자동으로 서비스에서 등록되도록 바꿀 것-->
                        <label for="companyManager" class="form-label">본사관리자명:</label>
                        <input type="text" class="form-control" id="companyManager" name="companyManager">
                    </div>
                    <button type="submit" class="btn btn-primary">등록</button>
                </form>

            </div>
        </div>
    </div>

</div>

</body>
</html>